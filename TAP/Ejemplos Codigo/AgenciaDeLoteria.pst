<?xml version="1.0"?><st-source><!-- Name: AgenciaDeLoteriaDbIdentifier: DbTrace: nilPackageName: AgenciaDeLoteriaParcel: #('AgenciaDeLoteria')PrintStringCache: Date: 2:37:51 pm May 21, 2010 --><time-stamp>From VisualWorks® NonCommercial, 7.5 of April 16, 2007 on May 21, 2010 at 2:37:51 pm</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><class><name>Sorteo</name><environment>Smalltalk</environment><super>Core.Object</super><private>false</private><indexed-type>none</indexed-type><inst-vars>fecha nombreQuiniela primeros10 </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>AgenciaDeLoteria</category><attributes><package>AgenciaDeLoteria</package></attributes></class><class><name>Agencia</name><environment>Smalltalk</environment><super>Core.Object</super><private>false</private><indexed-type>none</indexed-type><inst-vars>nombre nomDueño historicoSorteos </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>AgenciaDeLoteria</category><attributes><package>AgenciaDeLoteria</package></attributes></class><methods><class-id>Sorteo</class-id> <category>accessing</category><body package="AgenciaDeLoteria" selector="fecha">fecha	^fecha</body><body package="AgenciaDeLoteria" selector="fecha:">fecha: anObject	fecha := anObject</body><body package="AgenciaDeLoteria" selector="nombreQuiniela">nombreQuiniela	^nombreQuiniela</body><body package="AgenciaDeLoteria" selector="nombreQuiniela:">nombreQuiniela: anObject	nombreQuiniela := anObject</body><body package="AgenciaDeLoteria" selector="primeros10">primeros10	^primeros10</body><body package="AgenciaDeLoteria" selector="primeros10:">primeros10: anObject	primeros10 := anObject</body></methods><methods><class-id>Sorteo</class-id> <category>initialize-release</category><body package="AgenciaDeLoteria" selector="initialize">initialize	"Initialize a newly created instance. This method must answer the receiver."	" *** Edit the following to properly initialize instance variables ***"	fecha := nil.	nombreQuiniela := nil.	primeros10 := nil.	" *** And replace this comment with additional initialization code *** "	^self</body><body package="AgenciaDeLoteria" selector="initializeSorteo:nombreQuiniela:">initializeSorteo:unaFecha nombreQuiniela:unNombre		self fecha: unaFecha.		self nombreQuiniela:unNombre.		self primeros10: OrderedCollection new.	^self</body></methods><methods><class-id>Sorteo</class-id> <category>Metodos</category><body package="AgenciaDeLoteria" selector="buscarNumero:">buscarNumero:unNumero	^self primeros10 detect:[:num | num = unNumero] 			ifNone:[nil].</body><body package="AgenciaDeLoteria" selector="estaRepetido:">estaRepetido:unNumero	^((self primeros10) select:[:pri | pri = unNumero]) size &gt; 1.</body><body package="AgenciaDeLoteria" selector="sosMaldito">sosMaldito	^self primeros10 first = 17 or:[ 			 ((self primeros10 at:0) + ( self primeros10 at:1) + (self primeros10 at:2) - (3 * self primeros10 at:0)  = 3)].</body><body package="AgenciaDeLoteria" selector="trularSorteo">trularSorteo	self primeros10 inject:0 				     into: [:numero | numero + 3 ].</body></methods><methods><class-id>Sorteo class</class-id> <category>instance creation</category><body package="AgenciaDeLoteria" selector="new">new	"Answer a newly created and initialized instance."	^super new initialize</body></methods><methods><class-id>Agencia</class-id> <category>accessing</category><body package="AgenciaDeLoteria" selector="historicoSorteos">historicoSorteos	^historicoSorteos</body><body package="AgenciaDeLoteria" selector="historicoSorteos:">historicoSorteos: anObject	historicoSorteos := anObject</body><body package="AgenciaDeLoteria" selector="nombre">nombre	^nombre</body><body package="AgenciaDeLoteria" selector="nombre:">nombre: anObject	nombre := anObject</body><body package="AgenciaDeLoteria" selector="nomDueño">nomDueño	^nomDueño</body><body package="AgenciaDeLoteria" selector="nomDueño:">nomDueño: anObject	nomDueño := anObject</body></methods><methods><class-id>Agencia</class-id> <category>initialize-release</category><body package="AgenciaDeLoteria" selector="initialize">initialize	"Initialize a newly created instance. This method must answer the receiver."	" *** Edit the following to properly initialize instance variables ***"	nombre := nil.	nomDueño := nil.	historicoSorteos := OrderedCollection new.	" *** And replace this comment with additional initialization code *** "	^self</body><body package="AgenciaDeLoteria" selector="initializeConNombre:nombreDueño:historico:">initializeConNombre:unNombre nombreDueño:otroNombre historico:unaColeccion		self nombre:unNombre.		self nomDueño:otroNombre.		self historicoSorteos:OrderedCollection new.	^self</body></methods><methods><class-id>Agencia</class-id> <category>Metodos</category><body package="AgenciaDeLoteria" selector="buscarNumeroPorFecha:numero:">buscarNumeroPorFecha:unaFecha  numero:unNumero		| sorteosEnUnaFecha |		sorteosEnUnaFecha := (self historicoSorteos) select:[:sort | sort fecha = unaFecha].  	^sorteosEnUnaFecha anySatisfy:[:num | (num buscarNumero:unNumero) notNil].</body><body package="AgenciaDeLoteria" selector="buscarSorteoPorQuiniela:numero:">buscarSorteoPorQuiniela:unaQuiniela numero:unNumero	| col colOrdForFecha |	col:= self historicoSorteos select:[:sort | sort nombre = unaQuiniela and: [(sort 			buscarNumero:unNumero) notNil]].	colOrdForFecha:= col asSortedCollection.	^colOrdForFecha sortBlock:[:sort1 :sort2 | sort1 fecha &lt; sort2 fecha].	</body><body package="AgenciaDeLoteria" selector="nombresQuinielasConSorteo:">nombresQuinielasConSorteo:unaFecha   ^ (self historicoSorteos select:[:sort | sort fecha = unaFecha]) collect:[:sort | sort nombreQuiniela].</body></methods><methods><class-id>Agencia class</class-id> <category>instance creation</category><body package="AgenciaDeLoteria" selector="new">new	^self error:'No se puede inicializar con este constructor'</body><body package="AgenciaDeLoteria" selector="newConNombre:nombreDueño:historico:">newConNombre:unNombre nombreDueño:otroNombre historico:unaColeccion	^super new initializeConNombre:unNombre nombreDueño:otroNombre historico:unaColeccion</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>Object</name><environment>Core</environment><super></super><private>false</private><indexed-type>none</indexed-type><inst-vars></inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Kernel-Objects</category><attributes><package>Kernel-Objects</package></attributes></class></st-source>